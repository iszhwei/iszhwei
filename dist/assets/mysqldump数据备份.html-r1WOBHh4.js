import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as r,c,f as n,w as o,d as a,e as s,a as e}from"./app--8O2lHwG.js";const i="/assets/d39f1d8c36fd49c2bb06e6b2d531efaa-TxdNl_f3.png",B="/assets/b2462f784570468b81a5b71beafd3496-0aVeRofI.png",d="/assets/watermark_type_d3F5LXplbmhlaQ_shadow_50_text_Q1NETiBAQnVnTWFrZXItc2hlbg___size_18_color_FFFFFF_t_70_g_se_x_16-1LR1ly8n.png",y="/assets/watermark_type_d3F5LXplbmhlaQ_shadow_50_text_Q1NETiBAQnVnTWFrZXItc2hlbg___size_17_color_FFFFFF_t_70_g_se_x_16-scorKIDo.png",_="/assets/watermark_type_d3F5LXplbmhlaQ_shadow_50_text_Q1NETiBAQnVnTWFrZXItc2hlbg___size_14_color_FFFFFF_t_70_g_se_x_16-sRdGubh5.png",F="/assets/watermark_type_d3F5LXplbmhlaQ_shadow_50_text_Q1NETiBAQnVnTWFrZXItc2hlbg___size_14_color_FFFFFF_t_70_g_se_x_16-171367725483512-3qx2iF8v.png",g="/assets/watermark_type_d3F5LXplbmhlaQ_shadow_50_text_Q1NETiBAQnVnTWFrZXItc2hlbg___size_11_color_FFFFFF_t_70_g_se_x_16-h7pXQbGN.png",u="/assets/8f4dfce4fb0845c59251214313a2367f-Dj2CL_5G.png",m="/assets/0292509f060e4bbe98c2cf446aaf1d0c-OvjxQurh.png",A={},f=a("h1",{id:"mysqldump数据备份",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#mysqldump数据备份","aria-hidden":"true"},"#"),s(" mysqldump数据备份")],-1),b=e('<figure><img src="'+i+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>导出建库建表的SQL：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">mysqldump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">用户名</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p111111</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--all-databases</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/all.sql</span><span style="color:#ABB2BF;">          </span><span style="color:#7F848E;font-style:italic;"># 导出所有的库</span></span>
<span class="line"><span style="color:#61AFEF;">mysqldump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">用户名</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p111111</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--databases</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">school</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/school.sql</span><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 导出school库</span></span>
<span class="line"><span style="color:#61AFEF;">mysqldump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">用户名</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p111111</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">--databases</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db1</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db2</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">db3</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/dbs.sql</span><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># 导出多个库</span></span>
<span class="line"><span style="color:#61AFEF;">mysqldump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">用户名</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p111111</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">school</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">stu</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/stu.sql</span><span style="color:#ABB2BF;">               </span><span style="color:#7F848E;font-style:italic;"># 导出school库下的stu表</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>导出纯数据：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">mysql</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">用户名</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p111111</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">school</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-e</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;select * from user where age&gt;10&#39;</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/user.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在mysql终端执行source命令，导入数据，建库建表：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">mysql</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> source ~/</span><span style="color:#D19A66;">school</span><span style="color:#ABB2BF;">.</span><span style="color:#D19A66;">sql</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7),h=a("strong",null,"数据，SQL语句",-1),x=e('<figure><img src="'+B+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>user.sql文件内容如下：</p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>现在user.sql是root的文件，我们变更一下属主，使得普通用户也可以操作</p><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>我们现在把mytest库下的user表删除</p><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后我们source，相当于把.sql脚本重新执行一遍</p><figure><img src="'+F+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>user表和数据全部恢复出来了，有了.sql的脚本，可以在任意的mysql库上去重建库表及数据</p>',11),v=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">mysql</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-u</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">root</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-p</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">school</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-e</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;select * from user where age&gt;10&#39;</span><span style="color:#ABB2BF;"> &gt; </span><span style="color:#98C379;">~/user.txt</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>user.txt内容如下：</p><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',4);function q(C,D){const l=t("font");return r(),c("div",null,[f,n(l,{color:"red"},{default:o(()=>[s("部署在后台服务器或者云端的MySQL大部分做了一些限制，在本地无法直连后台服务的数据库3306端口上，一般有**防火墙**之类的网络中间件")]),_:1}),a("p",null,[s("在远程服务器"),n(l,{color:"red"},{default:o(()=>[s("一般不能使用GUI图形化界面工具进行数据备份")]),_:1}),s("，所以我们一般都是通过命令mysqldump进行备份")]),b,a("p",null,[s("在linux shell下执行以下命令，即可把mytest库的user表的数据导出到.sql文件中（"),n(l,{color:"red"},{default:o(()=>[s("导出的不仅是"),h,s("也导出了")]),_:1}),s("）")]),x,a("p",null,[s("我们还可以直接导出**"),n(l,{color:"red"},{default:o(()=>[s("纯表数据")]),_:1}),s("**")]),v])}const E=p(A,[["render",q],["__file","mysqldump数据备份.html.vue"]]);export{E as default};
