import{_ as p}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as i,c as r,d as n,e as s,f as a,w as e,a as o}from"./app-9OmaxHRC.js";const c="/assets/image-20240413205248515-3tlhyGaW.png",B="/assets/70-4vkRWhw6.png",d={},u=o(`<h1 id="è™šå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è™šå‡½æ•°" aria-hidden="true">#</a> è™šå‡½æ•°</h1><h2 id="è™šå‡½æ•°çš„å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#è™šå‡½æ•°çš„å®šä¹‰" aria-hidden="true">#</a> è™šå‡½æ•°çš„å®šä¹‰</h2><p>è™šå‡½æ•°å°±æ˜¯åœ¨<u>åŸºç±»ä¸­<strong>è¢«å£°æ˜ä¸º<code>virtual</code></strong>ï¼Œå¹¶åœ¨ä¸€ä¸ªæˆ–å¤šä¸ª<strong>æ´¾ç”Ÿç±»ä¸­è¢«é‡æ–°å®šä¹‰çš„æˆå‘˜å‡½æ•°</strong></u>ã€‚</p><div class="language-c++ line-numbers-mode" data-ext="c++"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// ç±»å†…éƒ¨</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> ç±»å </span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">virtual</span><span style="color:#ABB2BF;"> è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°è¡¨)</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> Â  Â  Â  Â //...</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//ç±»ä¹‹å¤–</span></span>
<span class="line"><span style="color:#C678DD;">virtual</span><span style="color:#ABB2BF;"> è¿”å›ç±»å‹ ç±»å::å‡½æ•°å(å‚æ•°è¡¨)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> Â  Â //...</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ´¾ç”Ÿç±»å¯¹è™šå‡½æ•°çš„é‡å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#æ´¾ç”Ÿç±»å¯¹è™šå‡½æ•°çš„é‡å®šä¹‰" aria-hidden="true">#</a> æ´¾ç”Ÿç±»å¯¹è™šå‡½æ•°çš„é‡å®šä¹‰</h2><p><u>å¦‚æœä¸€ä¸ª<strong>åŸºç±»çš„æˆå‘˜å‡½æ•°å®šä¹‰ä¸ºè™šå‡½æ•°</strong>ï¼Œé‚£ä¹ˆå®ƒåœ¨æ‰€æœ‰æ´¾ç”Ÿç±»ä¸­ä¹Ÿä¿æŒä¸ºè™šå‡½æ•°ï¼Œ<strong>å³ä½¿åœ¨æ´¾ç”Ÿç±»ä¸­çœç•¥äº†virtualå…³é”®å­—ï¼Œä¹Ÿä»ç„¶æ˜¯è™šå‡½æ•°</strong></u>ã€‚</p>`,6),y=n("u",null,[s("å½“ä¸€ä¸ªåŸºç±»ä¸­è®¾æœ‰è™šå‡½æ•°ï¼Œè€Œä¸€ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿äº†è¯¥åŸºç±»ï¼Œå¹¶å¯¹è™šå‡½æ•°è¿›è¡Œäº†é‡å®šä¹‰(é‡å†™å‡½æ•°ä½“)ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º"),n("strong",null,"è¦†ç›–"),s("(override)")],-1),v=o(`<p>é‡å®šä¹‰çš„æ ¼å¼è¦æ±‚ï¼š</p><ul><li>ä¸åŸºç±»çš„è™šå‡½æ•°æœ‰ç›¸åŒçš„<strong>å‚æ•°åˆ—è¡¨</strong>å’Œ<strong>è¿”å›ç±»å‹</strong></li></ul><div class="language-c++ line-numbers-mode" data-ext="c++"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Base</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">public:</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#C678DD;">virtual</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">void</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">display</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   {   </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â  Â  Â cout </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;Base::display()&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> endl;  </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   }</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#C678DD;">virtual</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">void</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   {</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â  Â  Â cout </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;Base::print()&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> endl;    </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Derived</span></span>
<span class="line"><span style="color:#ABB2BF;">: </span><span style="color:#C678DD;">public</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Base</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">public:</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#C678DD;">virtual</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">void</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">display</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   {   </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â  Â  Â cout </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;Derived::display()&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#ABB2BF;"> endl;   </span></span>
<span class="line"><span style="color:#ABB2BF;"> Â   }</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">test</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Base</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">*</span><span style="color:#E06C75;font-style:italic;">pbase</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#E5C07B;">pbase</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#61AFEF;">display</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">main</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â Base base;</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â Derived derived;</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#61AFEF;">test</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&amp;</span><span style="color:#ABB2BF;">base);</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#61AFEF;">test</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&amp;</span><span style="color:#ABB2BF;">derived);</span></span>
<span class="line"><span style="color:#ABB2BF;"> Â  Â </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¯¹äºtest()å‡½æ•°ï¼Œå¦‚æœä¸ç®¡æµ‹è¯•çš„ç»“æœï¼Œ<u>ä»å…¶å®ç°æ¥çœ‹ï¼Œé€šè¿‡ç±»Baseçš„æŒ‡é’ˆpbaseåªèƒ½è°ƒç”¨åˆ°Baseç±»å‹çš„displayå‡½æ•°</u>ï¼›ä½†æœ€ç»ˆçš„ç»“æœæ˜¯25è¡Œçš„testè°ƒç”¨ï¼Œæœ€ç»ˆä¼šè°ƒç”¨åˆ°Derivedç±»çš„displayå‡½æ•°ï¼Œè¿™é‡Œå°±ä½“ç°å‡ºè™šå‡½æ•°çš„ä½œç”¨äº†ï¼Œè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Œæˆ–è€…è¯´è™šå‡½æ•°åº•å±‚æ˜¯çš„æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><h2 id="è™šå‡½æ•°çš„å®ç°æœºåˆ¶ğŸ—ğŸ—ğŸ—" tabindex="-1"><a class="header-anchor" href="#è™šå‡½æ•°çš„å®ç°æœºåˆ¶ğŸ—ğŸ—ğŸ—" aria-hidden="true">#</a> è™šå‡½æ•°çš„å®ç°æœºåˆ¶ğŸ—ğŸ—ğŸ—</h2><p>è™šå‡½æ•°çš„å®ç°æ˜¯æ€æ ·çš„å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå°±æ˜¯é€šè¿‡ä¸€å¼ <strong>è™šå‡½æ•°è¡¨</strong>ï¼ˆVirtual Fucntion Tableï¼‰å®ç°çš„ã€‚</p>`,6),F=n("strong",null,"ç±»ä¸­å®šä¹‰",-1),A=n("strong",null,"è™šå‡½æ•°",-1),_=n("strong",null,"ç¼–è¯‘é˜¶æ®µ",-1),b=n("strong",null,"ç±»åˆ›å»ºçš„å¯¹è±¡",-1),m=n("strong",null,"å¼€å§‹ä½ç½®",-1),h=n("strong",null,"è™šå‡½æ•°æŒ‡é’ˆï¼ˆvfptrï¼‰",-1),g=n("strong",null,"è™šå‡½æ•°è¡¨",-1),D=n("strong",null,"å­˜æ”¾",-1),f=n("strong",null,"è™šå‡½æ•°çš„å…¥å£åœ°å€",-1),C=n("figure",null,[n("img",{src:c,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),E=n("figure",null,[n("img",{src:B,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),x=n("h3",{id:"è™šå‡½æ•°æè¿°ã€ç‰¹ç‚¹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#è™šå‡½æ•°æè¿°ã€ç‰¹ç‚¹","aria-hidden":"true"},"#"),s(" è™šå‡½æ•°æè¿°ã€ç‰¹ç‚¹ï¼š")],-1),k=n("ul",null,[n("li",null,[n("u",null,"åœ¨ç¼–è¯‘æ—¶ï¼Œä¸€ä¸ªç±»çš„è™šå‡½æ•°è¡¨å°±ç¡®å®šäº†"),s("ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®ƒæ”¾åœ¨äº†"),n("strong",null,"åªè¯»æ•°æ®æ®µ"),s("ä¸­")])],-1),q=n("u",null,"å¯¹è±¡",-1),V=n("u",null,"å¼€å§‹éƒ¨åˆ†",-1),N=n("u",null,"å­˜å‚¨ä¸€ä¸ªvfptrè™šå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘ç›¸åº”ç±»å‹çš„è™šå‡½æ•°è¡¨vftable",-1),T=n("li",null,[s("å¦‚æœæ´¾ç”Ÿç±»ä¸­çš„æ–¹æ³•å’ŒåŸºç±»ç»§æ‰¿æ¥çš„æŸä¸ªæ–¹æ³•ï¼Œ"),n("strong",null,"è¿”å›å€¼ã€å‡½æ•°åã€å‚æ•°åˆ—è¡¨éƒ½ç›¸åŒ"),s("ï¼Œè€Œä¸”"),n("strong",null,"åŸºç±»çš„æ–¹æ³•æ˜¯virtualè™šå‡½æ•°"),s("ï¼Œé‚£ä¹ˆæ´¾ç”Ÿç±»çš„è¿™ä¸ªæ–¹æ³•è‡ªåŠ¨å¤„ç†æˆè™šå‡½æ•°ï¼Œå³è¦†ç›–å…³ç³»ã€‚")],-1),w=o('<h2 id="è™šå‡½æ•°æœºåˆ¶æ˜¯å¦‚ä½•è¢«æ¿€æ´»çš„å‘¢-æˆ–è€…è¯´åŠ¨æ€å¤šæ€æ˜¯æ€ä¹ˆè¡¨ç°å‡ºæ¥çš„å‘¢" tabindex="-1"><a class="header-anchor" href="#è™šå‡½æ•°æœºåˆ¶æ˜¯å¦‚ä½•è¢«æ¿€æ´»çš„å‘¢-æˆ–è€…è¯´åŠ¨æ€å¤šæ€æ˜¯æ€ä¹ˆè¡¨ç°å‡ºæ¥çš„å‘¢" aria-hidden="true">#</a> è™šå‡½æ•°æœºåˆ¶æ˜¯å¦‚ä½•è¢«æ¿€æ´»çš„å‘¢ï¼Œæˆ–è€…è¯´åŠ¨æ€å¤šæ€æ˜¯æ€ä¹ˆè¡¨ç°å‡ºæ¥çš„å‘¢ï¼Ÿ</h2><p>ä»ä¸Šé¢çš„ä¾‹å­ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼š</p><ol><li><strong>åŸºç±»å®šä¹‰è™šå‡½æ•°</strong></li><li><strong>æ´¾ç”Ÿç±»é‡å®šä¹‰ï¼ˆè¦†ç›–ã€é‡å†™ï¼‰è™šå‡½æ•°</strong></li><li><strong>åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡</strong></li><li><strong>åŸºç±»çš„æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</strong></li><li><strong>åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°</strong></li></ol>',3);function z(R,W){const l=t("font");return i(),r("div",null,[u,n("p",null,[y,s(". è¿™é‡Œçš„"),n("strong",null,[s("è¦†ç›–æŒ‡çš„æ˜¯"),a(l,{color:"green"},{default:e(()=>[s("æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨")]),_:1}),s("ä¸­ç›¸åº”"),a(l,{color:"green"},{default:e(()=>[s("è™šå‡½æ•°çš„å…¥å£åœ°å€")]),_:1}),s("è¢«è¦†ç›–")]),s("ã€‚")]),v,n("p",null,[s("å…·ä½“åœ°è®²ï¼Œå½“"),n("u",null,[F,s("äº†ä¸€ä¸ª"),A,s("åï¼Œ"),a(l,{color:"red"},{default:e(()=>[_]),_:1}),s("ç¼–è¯‘å™¨ä¼šåœ¨è¯¥"),b,s("çš„å­˜å‚¨å¸ƒå±€çš„"),m,s("äº§ç”Ÿä¸€ä¸ª"),h,s("ï¼Œè¯¥è™šå‡½æ•°æŒ‡é’ˆæŒ‡å‘äº†ä¸€å¼ "),g,s("ï¼Œè€Œè¯¥è™šå‡½æ•°è¡¨å°±åƒä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ä¸­"),D,s("çš„å°±æ˜¯å„"),f]),s("ã€‚å¦‚ä¸‹å›¾")]),C,E,x,n("ol",null,[n("li",null,[s("ä¸€ä¸ªç±»é‡Œé¢å®šä¹‰äº†è™šå‡½æ•°ï¼Œé‚£ä¹ˆ"),a(l,{color:"red"},{default:e(()=>[s("ç¼–è¯‘é˜¶æ®µ")]),_:1}),s("ï¼Œç¼–è¯‘å™¨éœ€"),a(l,{color:"red"},{default:e(()=>[s("ç»™è¿™ä¸ªç±»")]),_:1}),s("ç±»å‹äº§ç”Ÿä¸€ä¸ª"),a(l,{color:"red"},{default:e(()=>[s("å”¯ä¸€çš„")]),_:1}),s("vftableè™šå‡½æ•°è¡¨ã€‚è™šå‡½æ•°è¡¨ä¸­ä¸»è¦å­˜å‚¨çš„å†…å®¹å°±æ˜¯"),a(l,{color:"green"},{default:e(()=>[s("RTTIæŒ‡é’ˆ")]),_:1}),s("å’Œ"),a(l,{color:"green"},{default:e(()=>[s("è™šå‡½æ•°çš„åœ°å€")]),_:1}),s("ã€‚å½“ç¨‹åºè¿è¡Œæ—¶ï¼Œæ¯ä¸€å¼ è™šå‡½æ•°è¡¨éƒ½ä¼šåŠ è½½åˆ°å†…å­˜çš„"),a(l,{color:"red"},{default:e(()=>[s(".rodataåŒº(åªè¯»æ•°æ®åŒº)")]),_:1}),k]),n("li",null,[s("ä¸€ä¸ªç±»é‡Œé¢å®šä¹‰äº†è™šå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å®šä¹‰çš„"),q,s("ï¼Œå…¶"),a(l,{color:"red"},{default:e(()=>[s("è¿è¡Œæ—¶")]),_:1}),s("ï¼Œå†…å­˜ä¸­"),V,s("ï¼Œå¤š"),N,s("ã€‚ä¸€ä¸ªç±»å‹å®šä¹‰çš„"),a(l,{color:"red"},{default:e(()=>[s("nä¸ªå¯¹è±¡å®ƒä»¬çš„vfptræŒ‡å‘éƒ½æ˜¯åŒä¸€å¼ è™šå‡½æ•°è¡¨")]),_:1}),s("ã€‚")]),n("li",null,[s("ä¸€ä¸ªç±»é‡Œé¢"),a(l,{color:"red"},{default:e(()=>[s("è™šå‡½æ•°çš„ä¸ªæ•°ä¸å½±å“çš„å¯¹è±¡å†…å­˜å¤§å°ï¼Œå½±å“çš„æ˜¯è™šå‡½æ•°è¡¨çš„å¤§å°")]),_:1}),s("ã€‚")]),T]),w])}const S=p(d,[["render",z],["__file","è™šå‡½æ•°.html.vue"]]);export{S as default};
