import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as t,c,d as a,e as s,f as e,w as l,a as o}from"./app-rY1SOIco.js";const i="/assets/image-20240407131732168-DcuxodHT.png",d="/assets/image-20240413094600216-PKuhmwrX.png",B={},y=a("h1",{id:"crud操作",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#crud操作","aria-hidden":"true"},"#"),s(" CRUD操作")],-1),u=o(`<h2 id="insert增加" tabindex="-1"><a class="header-anchor" href="#insert增加" aria-hidden="true">#</a> insert增加</h2><p>可以先在本地文本编辑器写，然后复制到shell运行，记录命令</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> user </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&#39;zhang san&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">22</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;male&#39;</span><span style="color:#ABB2BF;">); #不要这样写，因为后面可以会涉及字段的增删，这样写数据和字段（个数、顺序、类型）必须一一对应</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> user(</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;">, age, sex) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;zhang san&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">22</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;male&#39;</span><span style="color:#ABB2BF;">); #这样写即使字段顺序不一致也无所谓</span></span>
<span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> user(</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;">, age, sex) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;zhang san&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">22</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;male&#39;</span><span style="color:#ABB2BF;">),(</span><span style="color:#98C379;">&#39;li si&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">21</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;female&#39;</span><span style="color:#ABB2BF;">),(</span><span style="color:#98C379;">&#39;wang wu&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;male&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+i+'" alt="image-20240407131732168" tabindex="0" loading="lazy"><figcaption>image-20240407131732168</figcaption></figure>',4),h={id:"每次插入一条和一次插入多条的区别在于",tabindex:"-1"},D=a("a",{class:"header-anchor",href:"#每次插入一条和一次插入多条的区别在于","aria-hidden":"true"},"#",-1),A=a("p",null,[s("所以"),a("mark",null,"一般项目都会用到连接池"),s("，项目一般只有几个或十几个人可以不用连接池，稍微有点流量必须使用连接池减少数据操作时的网络握手和挥手的过程")],-1),m=a("h3",{id:"注意",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#注意","aria-hidden":"true"},"#"),s(" 注意：")],-1),_=a("strong",null,"，那么该字段插入",-1),g=a("strong",null,"。若创建表时字段没有显示的指定默认值时，默认值插入",-1),F=o(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">insert into</span><span style="color:#ABB2BF;"> person(</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;王五&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+d+`" alt="image-20240413094600216" tabindex="0" loading="lazy"><figcaption>image-20240413094600216</figcaption></figure><h2 id="update修改" tabindex="-1"><a class="header-anchor" href="#update修改" aria-hidden="true">#</a> update修改</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">update</span><span style="color:#ABB2BF;"> user </span><span style="color:#C678DD;">set</span><span style="color:#ABB2BF;"> age</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">age+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">name</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;zhang san&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="注意-1" tabindex="-1"><a class="header-anchor" href="#注意-1" aria-hidden="true">#</a> 注意</h3>`,5),f=o(`<h2 id="delete删除" tabindex="-1"><a class="header-anchor" href="#delete删除" aria-hidden="true">#</a> delete删除</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> user </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> id</span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> user </span><span style="color:#C678DD;">where</span><span style="color:#ABB2BF;"> age </span><span style="color:#C678DD;">between</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">18</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">delete</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> user;	#表数据清空了</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：即使<code>delete from user;</code>都清空了，id也是继续增加，不是从1开始</p><h3 id="主键id是自增的有上限-用完了能否复用被删掉的id" tabindex="-1"><a class="header-anchor" href="#主键id是自增的有上限-用完了能否复用被删掉的id" aria-hidden="true">#</a> 主键id是自增的有上限，用完了能否复用被删掉的id？</h3>`,4),C=a("p",null,"一般一个表的数据不会超过千万级，否则查询速度太慢了=>水平或垂直分库分表操作",-1);function b(v,x){const n=p("font");return t(),c("div",null,[y,a("p",null,[s("涉及一些"),e(n,{color:"red"},{default:l(()=>[s("优化")]),_:1}),s("的过程")]),u,a("h3",h,[D,s(),e(n,{color:"green"},{default:l(()=>[s("每次插入一条")]),_:1}),s("和"),e(n,{color:"green"},{default:l(()=>[s("一次插入多条")]),_:1}),s("的区别在于：")]),a("p",null,[s("下面的方法能够"),a("strong",null,[s("减少tcp"),e(n,{color:"cornflowerblue"},{default:l(()=>[s("三次和四次挥手的次数")]),_:1})])]),A,m,a("p",null,[s("当插入数据时**"),e(n,{color:"red"},{default:l(()=>[s("不指定某个字段")]),_:1}),_,e(n,{color:"cornflowerblue"},{default:l(()=>[s("默认值")]),_:1}),g,e(n,{color:"cornflowerblue"},{default:l(()=>[s("NULL")]),_:1}),s("**")]),F,a("p",null,[a("strong",null,[s("UPDATE语句通常都要添加WHERE子句，用于添加要修改记录的条件，否则"),e(n,{color:"red"},{default:l(()=>[s("全表修改")]),_:1}),s("！")])]),f,e(n,{color:"red"},{default:l(()=>[s("不可以")]),_:1}),s("，`auto_increment`自增，只能往上加，当到达上限后就会插入失败；可以"),e(n,{color:"red"},{default:l(()=>[s("将id类型由int（4字节）改为bigint（8字节）")]),_:1}),C])}const q=r(B,[["render",b],["__file","CRUD.html.vue"]]);export{q as default};
