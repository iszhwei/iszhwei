import{_ as s}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as a,c as n,a as l}from"./app-9OmaxHRC.js";const e="/assets/image-20240407114100091-5qwoWK2c.png",p={},o=l(`<h1 id="表操作" tabindex="-1"><a class="header-anchor" href="#表操作" aria-hidden="true">#</a> 表操作</h1><p>查看表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">show tables;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>创建表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">user</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	id </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> unsigned </span><span style="color:#C678DD;">primary key</span><span style="color:#ABB2BF;"> auto_increment,</span></span>
<span class="line"><span style="color:#ABB2BF;">	</span><span style="color:#C678DD;">name</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">unique</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	age </span><span style="color:#C678DD;">tinyint</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">not null</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">	sex enum(</span><span style="color:#98C379;">&quot;male&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&quot;female&quot;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">not null</span></span>
<span class="line"><span style="color:#ABB2BF;">)engine</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">INNODB </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> charset</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">utf8;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看表结构</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;"> user;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看建表sql</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">show </span><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> user\\G</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+e+`" alt="image-20240407114100091" tabindex="0" loading="lazy"><figcaption>image-20240407114100091</figcaption></figure><p>删除表</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> user;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>实践中一些接口如果老是报错，先用命令行执行api调用的SQL语句，看一下执行时间是否超时，比如sql执行时间为10s，而api设置的相应等待时间为5s，因此需要优化查询</p><h2 id="表操作小结" tabindex="-1"><a class="header-anchor" href="#表操作小结" aria-hidden="true">#</a> 表操作小结</h2><p>(1)增create：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">表名</span></span>
<span class="line"><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">	字段名称   字段类型   字段约束 </span><span style="color:#E06C75;">[注释]</span><span style="color:#ABB2BF;">，</span></span>
<span class="line"><span style="color:#ABB2BF;">	字段名称   字段类型   字段约束 </span><span style="color:#E06C75;">[注释]</span><span style="color:#ABB2BF;">，</span></span>
<span class="line"><span style="color:#ABB2BF;">	…</span></span>
<span class="line"><span style="color:#ABB2BF;">)；//创建一个表；</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>添加注释<code>COMMENT</code></strong></p></li><li><p>字符集：<strong><code>latin1</code>特点为：不能存储中文；若想存储中文使用<code>utf8</code></strong></p></li></ul><p>(2)删drop：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名；删除一个表</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(3)改alter：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">modify</span><span style="color:#ABB2BF;"> 字段名称 字段新类型； //修改字段类型方式1</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 change 字段名称 字段名称 新字段类型； //修改字段类型方式2</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 change 旧字段名 新字段名 新字段类型； //修改字段名</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> 新字段 类型 约束； //表中新添加一个字段</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> 新字段 类型 约束 </span><span style="color:#C678DD;">after</span><span style="color:#ABB2BF;"> 某字段名； //添加一个字段到任意位置之后(除了第一个位置无法处理)</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> 新字段 类型 约束 </span><span style="color:#C678DD;">first</span><span style="color:#ABB2BF;">； //添加一个字段到首位置</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 </span><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> 字段名； //删除字段</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名 rename 新表名； //修改表名</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student </span><span style="color:#C678DD;">modify</span><span style="color:#ABB2BF;"> age </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">); #age数据类型为INT(</span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">)改为INT(</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student change age age </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">);#新旧都是age,因此只改变数据类型</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student change age student_age </span><span style="color:#C678DD;">smallint</span><span style="color:#ABB2BF;">;#age字段名改为student_age，并同时将其类型改为SMALLINT</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> email </span><span style="color:#C678DD;">varchar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);#添加一个新的email字段，数据类型为VARCHAR(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">);置末</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> birthdate </span><span style="color:#C678DD;">date</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">after</span><span style="color:#ABB2BF;"> email;#添加一个birthdate字段，数据类型为DATE，放在email字段之后</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student </span><span style="color:#C678DD;">add</span><span style="color:#ABB2BF;"> student_id </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">primary key</span><span style="color:#ABB2BF;"> auto_increment </span><span style="color:#C678DD;">first</span><span style="color:#ABB2BF;">; #首位置添加一个student_id字段，数据类型为INT，并设置为主键（约束）：</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student </span><span style="color:#C678DD;">drop</span><span style="color:#ABB2BF;"> email;#删除email字段</span></span>
<span class="line"><span style="color:#C678DD;">alter</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> student rename xuesheng; #将students表重命名为xuesheng</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(4)查show：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">show tables；查看当前库下的表；</span></span>
<span class="line"><span style="color:#ABB2BF;">show </span><span style="color:#C678DD;">create</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">table</span><span style="color:#ABB2BF;"> 表名；查看表的创建信息；</span></span>
<span class="line"><span style="color:#C678DD;">desc</span><span style="color:#ABB2BF;"> 表名；查看表字段信息；</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24),r=[o];function c(t,i){return a(),n("div",null,r)}const y=s(p,[["render",c],["__file","表操作.html.vue"]]);export{y as default};
