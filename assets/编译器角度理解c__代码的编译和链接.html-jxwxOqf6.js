import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as c,c as r,b as p,d as s,f as l,w as e,e as a,a as o}from"./app-m9pC5KT-.js";const d="/assets/image-20231230103243664-Ykrg3kfx.png",u="/assets/a0faa85bb14444b8b9636925b867ee51-PmpPeoac.png",g="/assets/image-20240130222426316-y1iqsbJg.png",B="/assets/dd0090dd967d4ac5be3039c5ffe49cc7-PE8bKEAB.png",m="/assets/image-20240131004256680-uuy5OnYC.png",y="/assets/3efd42aafd1a444d9a8c860f6bbe4eb9-63G4E6hF.png",h="/assets/image-20240131011722928-vxG0s0On.png",b="/assets/b793d1397df944f6b04ed7d1527a57fd-zLwOmTVi.png",f="/assets/966cc3e1fc9b4366a718135dcf71d756-zsWMyx9q.png",_="/assets/616264ffaf724268b028b05c305b078c-IeqOvilF.png",F="/assets/d5fdc35df9e54958bde15cdbef48ff17-d5hhmVtK.png",v="/assets/image-20240310133845350-YClOngIa.png",A="/assets/693e6eec33134fa488aff85e9a3c7500-yNtBRyrU.png",x="/assets/0a542f82a1dd4b8cbe4bd68104acf0d1-HcVLBmRG.png",D={},k=o('<h1 id="ç¼–è¯‘å™¨è§’åº¦ç†è§£c-ä»£ç çš„ç¼–è¯‘å’Œé“¾æ¥" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘å™¨è§’åº¦ç†è§£c-ä»£ç çš„ç¼–è¯‘å’Œé“¾æ¥" aria-hidden="true">#</a> ç¼–è¯‘å™¨è§’åº¦ç†è§£c++ä»£ç çš„ç¼–è¯‘å’Œé“¾æ¥</h1><p>c/c++è¿™ç§<strong>æœ¬åœ°ç¼–è¯‘å‹è¯­è¨€</strong>çš„ç¼–è¯‘è¿‡ç¨‹</p><figure><img src="'+d+'" alt="image-20231230103243664" tabindex="0" loading="lazy"><figcaption>image-20231230103243664</figcaption></figure><h2 id="é‡ç‚¹" tabindex="-1"><a class="header-anchor" href="#é‡ç‚¹" aria-hidden="true">#</a> <strong>é‡ç‚¹</strong>ï¼š</h2><ol><li><strong><code>*.o</code>æ–‡ä»¶çš„ç»„æˆæ ¼å¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</strong></li><li><strong>å¯æ‰§è¡Œæ–‡ä»¶çš„ç»„æˆæ ¼å¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</strong></li><li><strong>é“¾æ¥çš„ä¸¤ä¸ªæ­¥éª¤åšçš„æ˜¯ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</strong></li><li><strong>ç¬¦å·è¡¨ä¸­çš„ç¬¦å·æ€ä¹ˆç†è§£ï¼Ÿ</strong></li><li><strong>ç¬¦å·ä½•æ—¶åˆ†é…è™šæ‹Ÿåœ°å€ï¼Ÿ</strong><img src="'+u+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></li></ol>',5),C=s("li",null,[s("code",null,"#pragma lib"),a("è¡¨ç¤ºç¨‹åºæ‰§è¡Œæ—¶éœ€è¦è¿æ¥çš„åº“ï¼Œæ‰€ä»¥å¿…é¡»åœ¨é“¾æ¥é˜¶æ®µç”Ÿæ•ˆ")],-1),E=s("li",null,[a("å‡å¦‚æœ‰ä¸ªå‡½æ•°startï¼Œæƒ³è®©ç¨‹åºæ‰§è¡Œçš„æ—¶å€™ä»startå¼€å§‹æ‰§è¡Œè€Œä¸æ˜¯mainï¼Œéœ€è¦"),s("code",null,"#pragma link"),a("ä¿®æ”¹ç¨‹åºçš„å…¥å£åœ°å€ï¼Œæ‰€ä»¥ä¹Ÿå¿…é¡»æŒç»­åˆ°é“¾æ¥é˜¶æ®µã€‚")],-1),z=s("code",null,"#include",-1),N=s("code",null,"#define",-1),V=s("code",null,"#ifdef",-1),j=s("code",null,"#ifndef",-1),O=s("code",null,"#endif",-1),S=o("<li><strong>ç¼–è¯‘é˜¶æ®µ</strong>å¯ä»¥gccï¼Œä¹Ÿå¯ä»¥g++, <code>g++ -O 0 1 2 3 ...</code>è¡¨ç¤ºä¼˜åŒ–çº§åˆ«</li><li>ç¼–è¯‘å®Œæˆåä¼šç”Ÿæˆç›¸åº”å¹³å°çš„æ±‡ç¼–ä»£ç ï¼Œ<strong>æ±‡ç¼–é˜¶æ®µ</strong>æœ‰ä¸¤ç§æ¶æ„çš„æ±‡ç¼–ä»£ç <code>x86</code>å’Œ<code>AT&amp;T</code><ul><li>åœ¨gdbä¸‹ä½¿ç”¨<code>set disassembly-flavor intel</code> è½¬æ¢ä¸ºintelæ ¼å¼çš„æ±‡ç¼–</li><li><code>set disassembly-flavor att </code>è½¬æ¢ä¸ºattæ ¼å¼çš„æ±‡ç¼–</li></ul></li><li><strong>æ±‡ç¼–</strong>å°±æ˜¯æŠŠæ±‡ç¼–ä»£ç è½¬æˆç‰¹å®šå¹³å°çš„äºŒè¿›åˆ¶ç </li>",3),q=s("h2",{id:"é“¾æ¥ä¸»è¦å·¥ä½œğŸ”",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#é“¾æ¥ä¸»è¦å·¥ä½œğŸ”","aria-hidden":"true"},"#"),a(" é“¾æ¥ä¸»è¦å·¥ä½œğŸ”")],-1),P=s("p",null,"â­åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæºæ–‡ä»¶ç»è¿‡é¢„ç¼–è¯‘ã€ç¼–è¯‘å’Œæ±‡ç¼–çš„è¿‡ç¨‹ï¼Œç”Ÿæˆäº†äºŒè¿›åˆ¶çš„å¯é‡å®šä½çš„ç›®æ ‡æ–‡ä»¶ï¼›",-1),T=s("strong",null,"æ®µ",-1),w=s("strong",null,"åˆå¹¶",-1),G=o(`<ul><li>â­å¯¹<strong>ç¬¦å·</strong>è¿›è¡Œ<strong>è§£æ</strong>ï¼šæ‰€æœ‰å¯¹ç¬¦å·çš„å¼•ç”¨ï¼Œéƒ½è¦æ‰¾åˆ°å…¶å®šä¹‰çš„åœ°æ–¹</li></ul><p>â­<u>å¯¹ç¬¦å·è¿›è¡Œè§£æå®Œæˆåï¼Œå°±ä¼šç»™æ‰€æœ‰çš„ç¬¦å·åˆ†é…è™šæ‹Ÿåœ°å€</u>ï¼›</p><ul><li>â­<strong>ç¬¦å·é‡å®šä½</strong>ï¼šå°±æ˜¯å°†ç»™ç¬¦å·åˆ†é…åçš„åœ°å€å†™å›ä»£ç æ®µï¼›</li></ul><h2 id="ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹" aria-hidden="true">#</a> ç¤ºä¾‹</h2><p>æ ¹æ®å¦‚ä¸‹ä¸¤æ®µä»£ç åˆ†æ</p><p>å…¶ä¸­æ³¨é‡Šè¡¨ç¤º<u>ç¬¦å·</u>å’Œå­˜æ”¾<u>åœ¨è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä½ç½®</u></p><div class="language-c++ line-numbers-mode" data-ext="c++"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;">//main.cpp</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// å¼•ç”¨sum.cppé‡Œå®šä¹‰å¾—å…¨å±€å˜é‡åŠå‡½æ•°</span></span>
<span class="line"><span style="color:#C678DD;">extern</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> gdata;</span><span style="color:#7F848E;font-style:italic;">  // gdata *UND*</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">sum</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;"> // _Z3sumii *UND*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> data </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> // data .data</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">main</span><span style="color:#ABB2BF;">()</span><span style="color:#7F848E;font-style:italic;"> // main .text</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> a </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> gdata;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> b </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> data;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> ret </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">sum</span><span style="color:#ABB2BF;">(a, b);</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// sum.cpp</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> gdata </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> // gdata .data</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">sum</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;font-style:italic;">a</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;font-style:italic;">b</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;"> // _Z3sumii .text</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> a </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> b;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¼–è¯‘é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘é˜¶æ®µ" aria-hidden="true">#</a> ç¼–è¯‘é˜¶æ®µï¼š</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">g++</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-c</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.cpp</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#ç¼–è¯‘æˆmain.o</span></span>
<span class="line"><span style="color:#61AFEF;">g++</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-c</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">sum.cpp</span><span style="color:#ABB2BF;">	</span><span style="color:#7F848E;font-style:italic;">#ç¼–è¯‘æˆsum.o</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŸ¥çœ‹ç¬¦å·è¡¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ç¬¦å·è¡¨" aria-hidden="true">#</a> æŸ¥çœ‹ç¬¦å·è¡¨ï¼š</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">objdump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-t</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;">	</span><span style="color:#7F848E;font-style:italic;">#ä¸ä»…æ˜¾ç¤ºç¬¦å·è¡¨ï¼Œè¿˜æ˜¾ç¤ºäº†æ®µçš„ä¿¡æ¯</span></span>
<span class="line"><span style="color:#61AFEF;">nm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;">	</span><span style="color:#7F848E;font-style:italic;">#ç®€æ´ï¼Œç¬¦å·è¡¨ï¼ˆç¬¦å·åç§°ã€ç±»å‹å’Œåœ°å€ç­‰åŸºæœ¬ä¿¡æ¯ï¼‰</span></span>
<span class="line"><span style="color:#61AFEF;">readelf</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-s</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#ä¹Ÿå¯ä»¥æŸ¥çœ‹ç¬¦å·è¡¨ä¿¡æ¯</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥çœ‹main-oç¬¦å·è¡¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹main-oç¬¦å·è¡¨" aria-hidden="true">#</a> æŸ¥çœ‹main.oç¬¦å·è¡¨</h4><figure><img src="`+g+'" alt="image-20240130222426316" tabindex="0" loading="lazy"><figcaption>image-20240130222426316</figcaption></figure>',13),L=s("li",null,"l = local",-1),U=s("li",null,"g = global",-1),Y=s("ul",null,[s("li",null,"å› ä¸ºå¼•ç”¨çš„ç¬¦å·éƒ½ä¸çŸ¥é“åœ¨å“ªé‡Œå®šä¹‰çš„ï¼Œè‚¯å®šæ— æ³•åˆ†é…è™šæ‹Ÿåœ°å€"),s("li",null,[s("u",null,[a("ç¬¦å·çš„è™šæ‹Ÿåœ°å€æ˜¯åœ¨"),s("strong",null,"é“¾æ¥æ—¶"),a("åˆ†é…çš„")])])],-1),I=o('<h4 id="æŸ¥çœ‹sum-oç¬¦å·è¡¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹sum-oç¬¦å·è¡¨" aria-hidden="true">#</a> æŸ¥çœ‹sum.oç¬¦å·è¡¨</h4><figure><img src="'+B+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><h3 id="åˆ†æmain-oæ–‡ä»¶å¤´" tabindex="-1"><a class="header-anchor" href="#åˆ†æmain-oæ–‡ä»¶å¤´" aria-hidden="true">#</a> åˆ†æmain.oæ–‡ä»¶å¤´</h3><p>æ±‡ç¼–å™¨æŠŠæ±‡ç¼–ä»£ç è½¬æˆå¯é‡å®šå‘çš„æ–‡ä»¶æ—¶ä¸ä»…ç”Ÿæˆäº†ç¬¦å·è¡¨ï¼Œè¿˜ç”Ÿæˆäº†å„ç§å„æ ·çš„æ®µ</p><figure><img src="'+m+`" alt="image-20240131004256680" tabindex="0" loading="lazy"><figcaption>image-20240131004256680</figcaption></figure><p><strong><code>*.o</code>æ–‡ä»¶çš„ç»„æˆï¼Œéœ€è¦å…³æ³¨çš„ï¼š</strong></p><ul><li><p><strong>ELFæ–‡ä»¶å¤´</strong></p></li><li><p><strong>.text</strong></p></li><li><p><strong>.data</strong></p></li><li><p><strong>.bss</strong></p></li><li><p><strong>.symbal ï¼ˆç¬¦å·æ®µï¼‰</strong></p></li><li><p><strong>.section table(æ®µè¡¨/èŠ‚å¤´éƒ¨è¡¨)</strong></p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">readelf</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-h</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#æŸ¥çœ‹æ–‡ä»¶å¤´ ï¼ˆelfå¤´ï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="`+y+`" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><ul><li>è¿™æ˜¯ <u>å¯é‡å®šä¹‰çš„æ–‡ä»¶</u> ä¸æ˜¯ <u>å¯æ‰§è¡Œæ–‡ä»¶</u>ï¼Œæ‰€ä»¥å…¥å£åœ°å€ <code>Enter point address = 0x0</code>, 0x0ä¸å¯ä»¥è®¿é—®</li></ul><h3 id="æ‰“å°ç›®æ ‡æ–‡ä»¶å„ä¸ªæ®µ" tabindex="-1"><a class="header-anchor" href="#æ‰“å°ç›®æ ‡æ–‡ä»¶å„ä¸ªæ®µ" aria-hidden="true">#</a> æ‰“å°ç›®æ ‡æ–‡ä»¶å„ä¸ªæ®µï¼š</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">readelf</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-S</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#æŸ¥çœ‹æœ‰å“ªäº›æ®µä»¥åŠå„ä¸ªæ®µçš„ä¿¡æ¯</span></span>
<span class="line"><span style="color:#61AFEF;">readelf</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-s</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">#æŸ¥çœ‹ç¬¦å·è¡¨ä¿¡æ¯</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+h+`" alt="image-20240131011722928" tabindex="0" loading="lazy"><figcaption>image-20240131011722928</figcaption></figure><ul><li>flagæ ‡å¿— <ul><li>A åˆ†é…ç©ºé—´çš„</li><li>W å¯å†™çš„</li><li>X å¯æ‰§è¡Œçš„</li></ul></li></ul><h3 id="åˆ†æmain-oçš„-textæ®µ" tabindex="-1"><a class="header-anchor" href="#åˆ†æmain-oçš„-textæ®µ" aria-hidden="true">#</a> åˆ†æmain.oçš„.textæ®µ</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">$</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">g++</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-c</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.cpp</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-g</span></span>
<span class="line"><span style="color:#61AFEF;">$</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">objdump</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-S</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">main.o</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+b+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure>',17),K=s("strong",null,"ç¬¦å·æ˜¯ä¸åˆ†é…è™šæ‹Ÿåœ°å€çš„é‡Œé¢çœ‹æ±‡ç¼–ä»£ç å‘ç°å˜é‡çš„å€¼éƒ½ä¸ºå…¨0ï¼Œè¯´æ˜ç¬¦å·å€¼è¿˜æ²¡åŠ è½½è¿›æ¥ï¼Œè¿™ä¹Ÿæ˜¯.oæ— æ³•æ‰§è¡Œçš„åŸå› ä¹‹ä¸€",-1),M=s("h2",{id:"é“¾æ¥é˜¶æ®µ",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#é“¾æ¥é˜¶æ®µ","aria-hidden":"true"},"#"),a(" é“¾æ¥é˜¶æ®µ")],-1),R=s("h3",{id:"é“¾æ¥çš„è¿‡ç¨‹ğŸ”ğŸ”ğŸ”",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#é“¾æ¥çš„è¿‡ç¨‹ğŸ”ğŸ”ğŸ”","aria-hidden":"true"},"#"),a(" é“¾æ¥çš„è¿‡ç¨‹ğŸ”ğŸ”ğŸ”")],-1),W=s("p",null,[a("æ‰€æœ‰"),s("code",null,".oæ–‡ä»¶æ®µ"),a("çš„"),s("u",null,"åˆå¹¶"),a("ï¼Œ"),s("u",null,"ç¬¦å·è¡¨"),a("åˆå¹¶åï¼Œè¿›è¡Œ"),s("u",null,"ç¬¦å·è§£æ")],-1),Z=s("li",null,[s("p",null,[s("code",null,"main.o"),a("å’Œ"),s("code",null,"sum.o"),a("ä¸­å„ä¸ªæ®µè¿›è¡Œ"),s("strong",null,"åˆå¹¶")]),s("ul",null,[s("li",null,".text <=>.text, .data<=>.data, .bss<=>.bss ..."),s("li",null,"ç¬¦å·è¡¨å±äºæ–‡ä»¶æ®µä¹‹ä¸€ï¼ˆ.symbalï¼‰")])],-1),$=s("p",null,[a("ç¬¦å·è¡¨åˆå¹¶åï¼Œè¿›è¡Œ"),s("strong",null,"ç¬¦å·è§£æ")],-1),H=s("li",null,[a("ç¬¦å·è§£æï¼šæ‰€æœ‰å¯¹ç¬¦å·çš„"),s("strong",null,"å¼•ç”¨"),a("ï¼Œéƒ½è¦æ‰¾åˆ°è¯¥ç¬¦å·"),s("strong",null,"å®šä¹‰çš„åœ°æ–¹")],-1),J=s("code",null,".text",-1),X=s("code",null,".data",-1),Q=s("ul",null,[s("li",null,"è‹¥ä¸€æ¬¡éƒ½æ— ï¼Œåˆ™ç¬¦å·æœªå®šä¹‰ï¼ˆæŠ¥é”™ï¼‰ï¼›"),s("li",null,"è‹¥å‡ºç°å¤šæ¬¡ï¼Œç¬¦å·é‡å®šä¹‰(æŠ¥é”™)")],-1),ss=s("strong",null,"æ˜¯å¦",-1),as=s("code",null,".text",-1),ns=s("code",null,".data",-1),ls=s("strong",null,"é“¾æ¥çš„æ ¸å¿ƒ",-1),es=s("ul",null,[s("li",null,"ç¬¦å·é‡å®šå‘ï¼šç¬¦å·è§£ææˆåŠŸåï¼Œç»™æ‰€æœ‰çš„ç¬¦å·åˆ†é…äº†è™šæ‹Ÿåœ°å€ï¼Œå‰é¢ç¬¦å·çš„æŒ‡ä»¤å€¼éƒ½æ˜¯å…¨0ï¼Œæ‰€ä»¥éœ€è¦æŠŠç¬¦å·çš„å…·ä½“åœ°å€å†™åˆ°ç¬¦å·çš„æŒ‡ä»¤ä¸Š")],-1),os=o('<p><mark>ç¬¦å·ä»€ä¹ˆæ—¶å€™åˆ†é…è™šæ‹Ÿåœ°å€ï¼š<strong>é“¾æ¥è¿‡ç¨‹ï¼Œç¬¬ä¸€æ­¥ç¬¦å·è§£æå®Œæˆå</strong></mark></p><p><strong>æ‰‹åŠ¨é“¾æ¥</strong>ï¼š<code>ld -e main *.o</code></p><ul><li><code>-e</code> å‚æ•°ç”¨äºæŒ‡å®šé“¾æ¥åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ç‚¹ï¼ˆentry pointï¼‰ <ul><li><code>ld -e main *.o</code> æ„å‘³ç€å°†æ‰€æœ‰çš„ <code>*.o</code> ç›®æ ‡æ–‡ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œå¹¶æŒ‡å®š <code>main</code> å‡½æ•°ä½œä¸ºç¨‹åºçš„å…¥å£ç‚¹</li></ul></li></ul><h2 id="å¯æ‰§è¡Œæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å¯æ‰§è¡Œæ–‡ä»¶" aria-hidden="true">#</a> å¯æ‰§è¡Œæ–‡ä»¶</h2><h3 id="æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶a-outçš„ç¬¦å·è¡¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶a-outçš„ç¬¦å·è¡¨" aria-hidden="true">#</a> æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶<code>a.out</code>çš„ç¬¦å·è¡¨</h3><figure><img src="'+f+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><ul><li>å¯ä»¥çœ‹å‡º<u>æ¯ä¸ªç¬¦å·éƒ½æœ‰å…¶å¯¹åº”çš„<strong>è™šæ‹Ÿåœ°å€</strong>ä»¥åŠ<strong>æ‰€åœ¨çš„åŒºåŸŸ</strong>ï¼Œ<strong>è¿è¡Œæ—¶</strong>å°±å¯ä»¥å°†å…¶åŠ è½½åˆ°æŒ‡å®šæ®µä¸­ï¼ˆå¦‚.data .textï¼‰</u></li></ul><h3 id="åˆ†æå¯æ‰§è¡Œæ–‡ä»¶çš„elfå¤´" tabindex="-1"><a class="header-anchor" href="#åˆ†æå¯æ‰§è¡Œæ–‡ä»¶çš„elfå¤´" aria-hidden="true">#</a> åˆ†æå¯æ‰§è¡Œæ–‡ä»¶çš„elfå¤´</h3><figure><img src="'+_+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><h3 id="å†çœ‹ä¸€ä¸‹a-outçš„æ±‡ç¼–ä»£ç " tabindex="-1"><a class="header-anchor" href="#å†çœ‹ä¸€ä¸‹a-outçš„æ±‡ç¼–ä»£ç " aria-hidden="true">#</a> å†çœ‹ä¸€ä¸‹<code>a.out</code>çš„æ±‡ç¼–ä»£ç </h3><h4 id="objdump-sæŸ¥çœ‹æ±‡ç¼–" tabindex="-1"><a class="header-anchor" href="#objdump-sæŸ¥çœ‹æ±‡ç¼–" aria-hidden="true">#</a> objdump -SæŸ¥çœ‹æ±‡ç¼–</h4><p><code>g++ -g -c main main.cc</code> #å‰æç¼–è¯‘æ—¶ åŠ <code>-g</code></p><p><code>objdump -M intel -S main.o</code> #åæ±‡ç¼–ã€ä¸ç›¸å…³è”çš„æºä»£ç äº¤æ›¿å¹¶ä¸”ä»¥è‹±ç‰¹å°”çš„æ¡†æ¶æ˜¾ç¤ºğŸ—ğŸ—ğŸ—</p><figure><img src="'+F+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><ul><li>å¯ä»¥å‘ç°<code>main</code>å‡½æ•°å†…ç¬¬ä¸€æ¡æŒ‡ä»¤åœ°å€å°±æ˜¯å‰é¢çš„å…¥å£åœ°å€(<code>entry</code>)</li></ul><h4 id="gdbæŸ¥çœ‹æ±‡ç¼–" tabindex="-1"><a class="header-anchor" href="#gdbæŸ¥çœ‹æ±‡ç¼–" aria-hidden="true">#</a> gdbæŸ¥çœ‹æ±‡ç¼–</h4><p>ä½¿ç”¨ <code>disassemble</code> å‘½ä»¤ï¼Œæˆ–è€…ç®€å†™ä¸º <code>disas</code></p>',17),is=o(`<ol><li><p>åœ¨ <code>gdb</code> æç¤ºç¬¦ä¸‹ï¼Œè®¾ç½®æ–­ç‚¹æˆ–è®©ç¨‹åºè¿è¡Œåˆ°ä½ æƒ³è¦æŸ¥çœ‹æ±‡ç¼–ä»£ç çš„ä½ç½®</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">break main</span></span>
<span class="line"><span style="color:#abb2bf;">b main</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åœ¨gdbä¸‹ä½¿ç”¨<code>set disassembly-flavor intel</code> è½¬æ¢ä¸ºintelæ ¼å¼çš„æ±‡ç¼–</p></li><li><p>ä½¿ç”¨ <code>run</code> å‘½ä»¤è¿è¡Œç¨‹åº</p></li><li><p>ä¸€æ—¦ç¨‹åºåœæ­¢åœ¨æ–­ç‚¹æˆ–ä½ æŒ‡å®šçš„ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨ <code>disassemble</code> å‘½ä»¤æŸ¥çœ‹æ±‡ç¼–ä»£ç ã€‚å¦‚æœä½ æ²¡æœ‰æŒ‡å®šä»»ä½•å‚æ•°ï¼Œ<code>gdb</code> ä¼šæ˜¾ç¤ºå½“å‰å‡½æ•°çš„æ±‡ç¼–ä»£ç </p></li></ol><figure><img src="`+v+`" alt="image-20240310133845350" tabindex="0" loading="lazy"><figcaption>image-20240310133845350</figcaption></figure><ol start="5"><li><p>å¦‚æœä½ æƒ³è¦æŸ¥çœ‹ç‰¹å®šå‡½æ•°æˆ–åœ°å€çš„æ±‡ç¼–ä»£ç ï¼Œä½ å¯ä»¥å°†å‡½æ•°åæˆ–åœ°å€ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>disassemble</code> å‘½ä»¤ã€‚ä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">disas main</span></span>
<span class="line"><span style="color:#abb2bf;">disas 0x00000000004008ee </span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¦‚æœä½ æƒ³åœ¨æ¯ä¸€æ­¥æ‰§è¡Œæ—¶éƒ½çœ‹åˆ°å¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>layout asm</code> å‘½ä»¤ã€‚è¿™å°†æ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£ï¼Œæ˜¾ç¤ºå½“å‰æ‰§è¡Œç‚¹çš„æ±‡ç¼–ä»£ç ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>stepi</code> æˆ– <code>nexti</code> å‘½ä»¤é€æ­¥æ‰§è¡Œæ±‡ç¼–æŒ‡ä»¤ï¼Œå¹¶æŸ¥çœ‹æ¯æ­¥çš„æ±‡ç¼–ä»£ç å˜åŒ–ã€‚</p></li><li><p>é€€å‡º<code>q</code>æˆ–<code>quit</code></p></li></ol><h3 id="æŸ¥çœ‹å¯æ‰§è¡Œç¨‹åºçš„program-headersæ®µ" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å¯æ‰§è¡Œç¨‹åºçš„program-headersæ®µ" aria-hidden="true">#</a> æŸ¥çœ‹å¯æ‰§è¡Œç¨‹åºçš„program headersæ®µ</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">readelf -l a.out #ä»æŸ¥çœ‹å¯æ‰§è¡Œç¨‹åºçš„program headers</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><mark><code>a.out </code>æ¯”<code>*.o</code>å¤šäº†<code>program headers</code>æ®µï¼Œ<strong>æœ‰ä¸¤ä¸ª<code>load</code>(åŠ è½½æ®µ),å‘ŠçŸ¥ç³»ç»Ÿï¼Œè¿è¡Œæ—¶æŠŠå“ªäº›å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆ.text, .dataï¼‰</strong></mark></p><figure><img src="`+A+'" alt="693e6eec33134fa488aff85e9a3c7500" tabindex="0" loading="lazy"><figcaption>693e6eec33134fa488aff85e9a3c7500</figcaption></figure><h2 id="ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜æ˜ å°„ğŸ—ğŸ—ğŸ—" tabindex="-1"><a class="header-anchor" href="#ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜æ˜ å°„ğŸ—ğŸ—ğŸ—" aria-hidden="true">#</a> ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜æ˜ å°„ğŸ—ğŸ—ğŸ—</h2><p>è¿è¡Œç¨‹åºæ—¶çš„å·¥ä½œå¤§æ¦‚å¦‚ä¸‹å›¾ï¼Œæ•°æ®åŠ è½½åˆ°æŒ‡å®šæ®µï¼Œå°†è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€ç©ºé—´ï¼š</p><figure><img src="'+x+'" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><ul><li><p><mark>a.outä½äºç£ç›˜ä¸­ï¼Œa.outåŒ…å«å¾ˆå¤šæ®µ</mark></p><ul><li><mark>elf header , å‘Šè¯‰ç¨‹åºå…¥å£åœ°å€åœ¨å“ªé‡Œ</mark></li><li><mark>program headers, å‘Šè¯‰ç³»ç»ŸåŠ è½½æ–‡ä»¶ä¸­.text .dataæ®µåˆ°å†…å­˜ä¸­</mark></li></ul></li><li><p><mark>å¹¶æ²¡æœ‰ç›´æ¥åŠ è½½åˆ°ç‰©ç†å†…å­˜ï¼Œè€Œæ˜¯åšä¸€ä¸ªåœ°å€æ˜ å°„ï¼ŒæŠŠ.text .data .bssæ˜ å°„åˆ°cpuè™šæ‹Ÿåœ°å€ï¼ˆè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼‰ä¸­</mark></p><ul><li><p><mark>å¦‚æœå‘ç°è®¿é—®çš„åœ°å€è¿˜æ²¡æœ‰åšæ˜ å°„ï¼Œåˆ™ä¼šäº§ç”Ÿé¡µé¢å¼‚å¸¸</mark></p></li><li><p><mark>é¡µé¢å¼‚å¸¸=ã€‹æ‰§è¡Œåœ°å€æ˜ å°„é¡µé¢å¼‚å¸¸å¤„ç†ç¨‹åºï¼Œåˆ†é…ç‰©ç†å†…å­˜</mark></p></li></ul></li></ul><h2 id="è¿›é˜¶é˜…è¯»" tabindex="-1"><a class="header-anchor" href="#è¿›é˜¶é˜…è¯»" aria-hidden="true">#</a> è¿›é˜¶é˜…è¯»</h2><ol><li>ã€ŠCSAPPã€‹ç¬¬ä¸ƒç« </li><li>ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹ç¬¬2ã€3ã€4ã€6ç« </li></ol>',13);function ts(cs,rs){const n=t("font");return c(),r("div",null,[k,p("more"),s("ul",null,[C,E,s("li",null,[l(n,{color:"red"},{default:e(()=>[a("é™¤äº†`#pragma lib`å’Œ`#pragma link`ä¹‹å¤–ä»¥`#`å¼€å¤´çš„éƒ½åœ¨é¢„ç¼–è¯‘é˜¶æ®µå¤„ç†")]),_:1}),a("("),z,a("ã€"),N,a("ã€"),V,a("ã€"),j,a("ã€"),O,a(" ç­‰)")]),S]),q,P,s("p",null,[a("â­æ­¤åï¼Œ"),s("u",null,[a("åœ¨é“¾æ¥è¿‡ç¨‹ï¼Œæ‰€æœ‰.oæ–‡ä»¶å¯¹åº”çš„"),T,a("è¿›è¡Œ"),w,a("ï¼Œå…¶ä¸­"),l(n,{color:"red"},{default:e(()=>[a("symtabå°±æ˜¯ç¬¦å·è¡¨æ®µ")]),_:1}),a("ï¼Œç¬¦å·è¡¨è¿›è¡Œåˆå¹¶åï¼Œéœ€è¦å¯¹ç¬¦å·è¿›è¡Œè§£æ")])]),G,s("ul",null,[L,U,s("li",null,[a("ç¬¦å·è¡¨éƒ½ä¸º0ï¼Œ"),l(n,{color:"red"},{default:e(()=>[a("ç¼–è¯‘è¿‡ç¨‹ä¸­æ˜¯ä¸åˆ†é…è™šæ‹Ÿåœ°å€çš„")]),_:1}),Y])]),I,s("p",null,[a("ç”±ä¸Šå›¾å¯çŸ¥ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œ"),l(n,{color:"red"},{default:e(()=>[K]),_:1})]),M,R,s("ol",null,[s("li",null,[W,s("ol",null,[Z,s("li",null,[$,s("ul",null,[H,s("li",null,[a("åœ¨ç¬¦å·è¡¨ä¸­æ‰¾å¯¹åº”çš„ç¬¦å·æ˜¯å¦åªå‡ºç°äº"),J,a("æˆ–"),X,a("æ®µ"),l(n,{color:"red"},{default:e(()=>[a("ä¸€æ¬¡")]),_:1}),Q])]),s("p",null,[s("u",null,[a("é“¾æ¥æ—¶å°±æ˜¯åœ¨ç¬¦å·è¡¨ä¸­æ‰¾å¯¹åº”çš„ç¬¦å·"),ss,a("åªå‡ºç°äº"),as,a("æˆ–"),ns,a("æ®µ"),l(n,{color:"red"},{default:e(()=>[a("ä¸€æ¬¡")]),_:1}),a("ï¼›è‹¥ä¸€æ¬¡éƒ½æ— ï¼Œåˆ™ç¬¦å·æœªå®šä¹‰ï¼ˆæŠ¥é”™ï¼‰ï¼›è‹¥å‡ºç°å¤šæ¬¡ï¼Œç¬¦å·é‡å®šä¹‰(æŠ¥é”™)")])])])])]),s("li",null,[l(n,{color:"red"},{default:e(()=>[a("ç¬¦å·é‡å®šä½ï¼ˆé‡å®šå‘ï¼‰")]),_:1}),a("("),ls,a("),ç»™æ‰€æœ‰ç¬¦å·åˆ†é…è™šæ‹Ÿåœ°å€ï¼Œå‰é¢éƒ½æ˜¯å…¨0"),es])]),os,l(n,{color:"red"},{default:e(()=>[a("å¤šç”¨tabé”®")]),_:1}),is])}const us=i(D,[["render",ts],["__file","ç¼–è¯‘å™¨è§’åº¦ç†è§£c__ä»£ç çš„ç¼–è¯‘å’Œé“¾æ¥.html.vue"]]);export{us as default};
